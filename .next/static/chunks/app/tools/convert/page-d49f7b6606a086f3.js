(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{3958:function(e,t,r){Promise.resolve().then(r.bind(r,8441))},8441:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ConvertPage}});var a=r(7437),o=r(9556),n=r(2265);function ConvertPage(){let[e,t]=(0,n.useState)("pdf"),[r,l]=(0,n.useState)(""),[s,i]=(0,n.useState)(0),[d,c]=(0,n.useState)(!1),[u,p]=(0,n.useState)(".jpg,.jpeg,.png"),f=[{value:"pdf",label:"PDF from Images",accept:".jpg,.jpeg,.png"},{value:"docx",label:"Word Document (.docx)",accept:".pdf"}];(0,n.useEffect)(()=>{let t=f.find(t=>t.value===e);p((null==t?void 0:t.accept)||".pdf")},[e]);let handleConvert=async t=>{c(!0),l(""),i(0);let r=new FormData;r.append("file",t),r.append("format",e),r.append("isImageToPdf",String("pdf"===e));try{console.log("Starting conversion...",{format:e,fileSize:t.size,fileName:t.name,isImageToPdf:"pdf"===e});let a=await fetch("/api/convert",{method:"POST",body:r,headers:{Accept:"application/json"}});if(422===a.status){let e=await a.json();throw Error(e.error||"Invalid file or conversion settings")}if(!a.ok){let e=await a.json();throw Error(e.error||"Conversion failed")}let o=await a.blob(),n=window.URL.createObjectURL(o),l=document.createElement("a");l.href=n,l.download="pdf"===e?"converted.pdf":"converted.".concat(e),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(n),l.remove()}catch(e){console.error("Conversion error:",e),e.message.includes("ENOTFOUND")?l("فشل الاتصال بخدمة التحويل. يرجى التحقق من اتصال الإنترنت الخاص بك"):e.message.includes("413")?l("حجم الملف كبير جداً. الحد الأقصى هو 10 ميجابايت"):l(e.message),setTimeout(()=>{l("")},5e3)}finally{c(!1),i(0)}};return(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"max-w-xl mx-auto pt-20",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center mt-[1cm]",children:"pdf"===e?"Convert Images to PDF":"Convert PDF"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"pdf"===e?"Convert from:":"Convert to:"}),(0,a.jsx)("select",{value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300",disabled:d,children:f.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsx)(o.p,{onUpload:handleConvert,options:{type:"convert",settings:{outputFormat:e,isImageToPdf:"pdf"===e}},accept:u,onProgress:e=>{i(e)},isProcessing:d,processingText:"جاري التحويل... ".concat(s,"%")}),r&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-lg",children:r}),(0,a.jsxs)("div",{className:"mt-8 text-sm text-gray-600",children:[(0,a.jsx)("h2",{className:"font-semibold mb-2",children:"Instructions:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,a.jsx)("li",{children:"pdf"===e?"Select images (.jpg, .jpeg, .png) to convert to PDF":"Upload a PDF file to convert to the selected format"}),(0,a.jsx)("li",{children:"Maximum file size: 10MB"}),(0,a.jsx)("li",{children:"The converted file will automatically download once ready"})]})]})]})})}},9556:function(e,t,r){"use strict";r.d(t,{p:function(){return FileUpload}});var a=r(7437),o=r(2265);function FileUpload(e){let{onUpload:t,options:r,accept:n=".pdf",onProgress:l,isProcessing:s=!1,processingText:i="Processing..."}=e,[d,c]=(0,o.useState)(!1),[u,p]=(0,o.useState)(""),[f,m]=(0,o.useState)(0),[g,v]=(0,o.useState)(!1),h=(0,o.useRef)(null),handleFile=async e=>{c(!0),p("");try{await t(e)}catch(e){p(e instanceof Error?e.message:"Upload failed")}finally{c(!1)}},handleDrop=async e=>{e.preventDefault(),e.stopPropagation(),v(!1);let r=Array.from(e.dataTransfer.files),a=r.filter(e=>"application/pdf"===e.type);if(0===a.length){p("Please drop PDF files only");return}try{c(!0),p(""),await t(a[0])}catch(e){p(e instanceof Error?e.message:"Upload failed")}finally{c(!1)}};return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{onClick:()=>{var e;return!s&&(null===(e=h.current)||void 0===e?void 0:e.click())},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),g||s||v(!0)},onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),s||v(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation();let t=e.currentTarget.getBoundingClientRect(),r=e.clientX-t.left,a=e.clientY-t.top;(r<0||a<0||r>t.width||a>t.height)&&v(!1)},onDrop:handleDrop,className:"\n          w-full p-8 border-2 border-dashed rounded-lg \n          transition-all duration-200 ease-in-out\n          ".concat(g?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 hover:border-blue-500 dark:border-gray-600","\n          ").concat(s||d?"opacity-75 cursor-wait":"cursor-pointer hover:shadow-lg hover:scale-105","\n        "),children:[(0,a.jsx)("input",{ref:h,type:"file",className:"hidden",accept:n,onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&handleFile(r)},disabled:d||s}),(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"text-5xl",children:g?"\uD83D\uDCC4":"\uD83D\uDCC1"}),(0,a.jsx)("div",{className:"text-lg",children:d||s?i||"Processing... ".concat(f,"%"):g?"Drop your PDF here":"Drag & drop your PDF here or click to browse"}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Supports PDF files up to 10MB"})]}),(d||s)&&(0,a.jsx)("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full mt-4",children:(0,a.jsx)("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300",style:{width:"".concat(f,"%")}})})]}),u&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400",children:u})]})}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=r(2265),o=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var a,n={},d=null,c=null;for(a in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,a)&&!i.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===n[a]&&(n[a]=t[a]);return{$$typeof:o,type:e,key:d,ref:c,props:n,_owner:s.current}}t.Fragment=n,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,864,744],function(){return e(e.s=3958)}),_N_E=e.O()}]);