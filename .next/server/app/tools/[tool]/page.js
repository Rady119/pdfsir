(()=>{var e={};e.id=855,e.ids=[855],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},29762:(e,t,o)=>{"use strict";o.r(t),o.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>p,routeModule:()=>m,tree:()=>c});var r=o(73137),s=o(54647),a=o(4183),n=o.n(a),l=o(71775),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);o.d(t,i);let d=r.AppPageRouteModule,c=["",{children:["tools",{children:["[tool]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(o.bind(o,38039)),"D:\\فلاشة16\\room\\pdf-processor\\src\\app\\tools\\[tool]\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(o.bind(o,68217)),"D:\\فلاشة16\\room\\pdf-processor\\src\\app\\tools\\[tool]\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(o.bind(o,21961)),"D:\\فلاشة16\\room\\pdf-processor\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(o.t.bind(o,51918,23)),"next/dist/client/components/not-found-error"]}],p=["D:\\فلاشة16\\room\\pdf-processor\\src\\app\\tools\\[tool]\\page.tsx"],u="/tools/[tool]/page",x={require:o,loadChunk:()=>Promise.resolve()},m=new d({definition:{kind:s.x.APP_PAGE,page:"/tools/[tool]/page",pathname:"/tools/[tool]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27849:(e,t,o)=>{Promise.resolve().then(o.bind(o,39721))},35303:()=>{},39721:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>ToolPage});var r=o(60080),s=o(57114),a=o(9885),n=o(91754),l=o(27870),i=o(24616);let showErrorToast=e=>{let t=document.createElement("div");t.style.cssText=`
    position: fixed;
    top: 20px;
    right: 20px;
    background: #f44336;
    color: white;
    padding: 16px 24px;
    border-radius: 4px;
    z-index: 1000;
    direction: rtl;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  `,t.textContent=e,document.body.appendChild(t),setTimeout(()=>{t.style.opacity="1"},100),setTimeout(()=>{t.style.opacity="0",setTimeout(()=>document.body.removeChild(t),300)},4700)};function ToolPage(){let e=(0,s.useParams)(),t=e?.tool;if(!["merge","split","compress","convert"].includes(t))return r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("h1",{className:"text-3xl font-bold mb-8 dark:text-white",children:"الأداة غير موجودة"})});let{t:o}=(0,l.$G)(),[d,c]=(0,a.useState)(0),[p,u]=(0,a.useState)(null),[x,m]=(0,a.useState)(()=>{switch(t){case"compress":return{quality:80};case"split":return{pageRange:"1-2"};case"convert":default:return{outputFormat:"docx"};case"merge":return{order:[]}}}),[h,g]=(0,a.useState)([]),[b,f]=(0,a.useState)(1),[y,v]=(0,a.useState)([]),handleUpload=async e=>{u(null);try{if(e.size>10485760)throw Error("حجم الملف يتجاوز الحد الأقصى (10 ميجابايت)");c(10);let o=new FormData;o.append("file",e),"convert"===t&&x&&"outputFormat"in x&&o.append("format",x.outputFormat),c(30);let r=new AbortController,s=setTimeout(()=>r.abort(),6e4);try{let t=await fetch("/api/convert",{method:"POST",body:o,signal:r.signal});if(clearTimeout(s),!t.ok){let e=await t.json();throw Error(e.error||"فشل التحويل")}c(70);let a=await t.blob();if(0===a.size)throw Error("الملف المحول فارغ");c(90);let n=window.URL.createObjectURL(a),l=document.createElement("a");l.style.display="none",l.href=n,l.download=e.name.replace(".pdf",".docx"),document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(n),c(100)}catch(e){if("AbortError"===e.name)throw Error("معالجة الملف استغرقت وقتاً طويلاً. الرجاء تجربة ملف أصغر.");throw e}}catch(t){console.error("Processing error:",t),c(0);let e=t.message||"فشل معالجة الملف. الرجاء المحاولة مرة أخرى.";u(e),showErrorToast(e)}};return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8 dark:text-white capitalize",children:o(`tools.${t}.title`)}),p&&r.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded text-right",children:p}),r.jsx("div",{className:"mb-8",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-right",children:o(`tools.${t}.description`)})}),(0,r.jsxs)("div",{className:"relative",children:[d>0&&d<100&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10 rounded-lg",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg text-center",children:[(0,r.jsxs)("div",{className:"text-lg mb-3",children:["جاري التحويل... ",d,"%"]}),r.jsx("div",{className:"w-64 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300 ease-in-out",style:{width:`${d}%`}})})]})}),r.jsx(n.p,{onUpload:handleUpload,options:{type:t,settings:x},onProgress:c})]}),r.jsx(i.m,{files:h,currentPage:b,filesPerPage:5,onPageChange:f,onRemove:e=>g(h.filter((t,o)=>o!==e))})]})}},68217:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>ToolLayout});var r=o(48144);function ToolLayout({children:e}){return r.jsx(r.Fragment,{children:e})}},38039:(e,t,o)=>{"use strict";o.r(t),o.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});var r=o(17536);let s=(0,r.createProxy)(String.raw`D:\فلاشة16\room\pdf-processor\src\app\tools\[tool]\page.tsx`),{__esModule:a,$$typeof:n}=s,l=s.default,i=l}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),o=t.X(0,[650,234,701,754,616],()=>__webpack_exec__(29762));module.exports=o})();